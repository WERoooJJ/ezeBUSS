<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ezeBUSS — Учебный сайт</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    body { margin:0; font-family:'Segoe UI',Roboto,sans-serif; background:linear-gradient(135deg,#0f2027,#203a43,#2c5364); color:#f1f5f9; min-height:100vh; display:flex; flex-direction:column; overflow-x:hidden }
    header { padding:20px; text-align:center; background:rgba(0,0,0,.4); backdrop-filter:blur(10px); position:sticky; top:0; z-index:10; animation:fadeDown 1.2s ease }
    .brand { font-size:2rem; font-weight:900; letter-spacing:1px }
    .brand span { color:#60a5fa; text-shadow:0 0 10px #60a5fa }
    main { flex:1; display:flex; align-items:center; justify-content:center; padding:40px 20px }
    .card { background:rgba(15,23,42,.85); border-radius:24px; padding:32px; max-width:700px; width:100%; box-shadow:0 20px 50px #0008; animation:fadeUp 1.2s ease }
    h1 { margin:0 0 6px; font-size:2rem; background:linear-gradient(90deg,#60a5fa,#34d399); -webkit-background-clip:text; -webkit-text-fill-color:transparent; text-align:center }
    .muted{ color:#cbd5e1b3 }
    .grid{ display:grid; gap:20px; margin-top:20px }
    .grid-2{ grid-template-columns:repeat(2,1fr) }
    label{ display:block; margin-bottom:6px; color:#cbd5e1; font-weight:600 }
    select{ width:100%; padding:14px; border-radius:14px; border:none; background:#1e293b; color:#f1f5f9; outline:none; transition:.25s }
    select:hover{ box-shadow:0 0 0 2px #60a5fa88 }
    .btn.primary{ width:100%; padding:16px; border:none; border-radius:14px; font-size:1.1rem; margin-top:20px; background:linear-gradient(90deg,#60a5fa,#3b82f6); color:#fff; font-weight:700; cursor:pointer; transition:transform .18s, box-shadow .25s }
    .btn.primary:hover{ transform:translateY(-2px); box-shadow:0 10px 28px rgba(96,165,250,.45) }
    /* Белый оверлей с шестерёнкой */
    .overlay{ position:fixed; inset:0; background:#fff; display:flex; flex-direction:column; align-items:center; justify-content:center; z-index:100; animation:fadeIn .3s ease }
    .overlay.hidden{ display:none }
    .gear{ width:90px; height:90px; border-radius:50%; border:10px solid #e5e7eb; border-top-color:#3b82f6; animation:spin 1s linear infinite; position:relative }
    .gear::before,.gear::after{ content:""; position:absolute; inset:-18px; border-radius:50%; border:6px dashed #93c5fd }
    .gear::before{ animation:spin 2s linear infinite reverse }
    .gear::after{ inset:-30px; border-color:#c7d2fe; animation:spin 3s linear infinite }
    .overlay-text{ margin-top:18px; color:#0b1220; font-size:1.05rem; animation:pulse 1.5s infinite }
    @keyframes spin{ to{ transform:rotate(360deg) } }
    @keyframes pulse{ 0%,100%{opacity:.6} 50%{opacity:1} }
    @keyframes fadeUp{ from{opacity:0; transform:translateY(24px)} to{opacity:1; transform:translateY(0)} }
    @keyframes fadeDown{ from{opacity:0; transform:translateY(-16px)} to{opacity:1; transform:translateY(0)} }
    @keyframes fadeIn{ from{opacity:0} to{opacity:1} }
    @media (max-width:640px){ .grid-2{ grid-template-columns:1fr } }
  </style>
</head>
<body>
<header><div class="brand">eze<span>BUSS</span></div></header>
<main>
  <section class="card">
    <h1>Покупка поездок на автобусе</h1>
    <p class="muted" style="text-align:center;">Выберите маршрут и найдите рейсы.</p>

    <div class="grid grid-2">
      <div><label>Откуда</label><select id="fromCity"></select></div>
      <div><label>Куда</label><select id="toCity"></select></div>
    </div>

    <button id="findBtn" class="btn primary">Найти автобусы</button>
  </section>
</main>

<div id="overlay" class="overlay hidden">
  <div class="gear"></div>
  <div class="overlay-text">Загрузка рейсов…</div>
</div>

<script>
const CITIES=['Москва','Санкт-Петербург','Казань','Нижний Новгород','Самара','Екатеринбург','Новосибирск','Краснодар','Ростов-на-Дону','Уфа','Пермь','Челябинск','Воронеж','Волгоград','Сочи'];
const fromSel=document.getElementById('fromCity');
const toSel=document.getElementById('toCity');
CITIES.forEach(c=>{ const o1=document.createElement('option');o1.value=o1.textContent=c; fromSel.appendChild(o1); const o2=document.createElement('option');o2.value=o2.textContent=c; toSel.appendChild(o2); });
fromSel.value='Москва'; toSel.value='Санкт-Петербург';

document.getElementById('findBtn').addEventListener('click',()=>{
  const from=fromSel.value, to=toSel.value;
  if(from===to){ alert('Город отправления и назначения должны отличаться.'); return; }
  sessionStorage.setItem('ez_from',from);
  sessionStorage.setItem('ez_to',to);
  document.getElementById('overlay').classList.remove('hidden');
  setTimeout(()=>location.href='book.html',2000);
});
</script>
</body>
</html>
